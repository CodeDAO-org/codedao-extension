{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ Health check failed: Cannot read properties of null (reading 'collection')\u001b[39m","stack":"TypeError: Cannot read properties of null (reading 'collection')\n    at Database.checkRateLimit (/Users/mikaelo/codedao-extension/twitter_bot/src/database.js:276:33)\n    at SafetyManager.getRateLimitStatus (/Users/mikaelo/codedao-extension/twitter_bot/src/SafetyManager.js:99:40)\n    at TwitterBot.healthCheck (/Users/mikaelo/codedao-extension/twitter_bot/src/TwitterBot.js:371:56)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.allSettled (index 0)\n    at async CodeDAOTwitterBot.getHealthStatus (/Users/mikaelo/codedao-extension/twitter_bot/src/index.js:311:11)\n    at async CodeDAOTwitterBot.logInitializationStatus (/Users/mikaelo/codedao-extension/twitter_bot/src/index.js:359:22)\n    at async CodeDAOTwitterBot.initialize (/Users/mikaelo/codedao-extension/twitter_bot/src/index.js:61:7)\n    at async handleCLI (/Users/mikaelo/codedao-extension/twitter_bot/src/index.js:469:5)","timestamp":"2025-08-09 15:52:07:527"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ Health check failed: Cannot read properties of null (reading 'collection')\u001b[39m","stack":"TypeError: Cannot read properties of null (reading 'collection')\n    at Database.checkRateLimit (/Users/mikaelo/codedao-extension/twitter_bot/src/database.js:276:33)\n    at SafetyManager.getRateLimitStatus (/Users/mikaelo/codedao-extension/twitter_bot/src/SafetyManager.js:99:40)\n    at TwitterBot.healthCheck (/Users/mikaelo/codedao-extension/twitter_bot/src/TwitterBot.js:371:56)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.allSettled (index 0)\n    at async CodeDAOTwitterBot.getHealthStatus (/Users/mikaelo/codedao-extension/twitter_bot/src/index.js:311:11)\n    at async handleCLI (/Users/mikaelo/codedao-extension/twitter_bot/src/index.js:484:24)","timestamp":"2025-08-09 15:52:08:528"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ Failed to get my tweets: this.roClient.userTimeline is not a function\u001b[39m","stack":"TypeError: this.roClient.userTimeline is not a function\n    at TwitterBot.getMyTweets (/Users/mikaelo/codedao-extension/twitter_bot/src/TwitterBot.js:268:42)\n    at TwitterBot.updatePostMetrics (/Users/mikaelo/codedao-extension/twitter_bot/src/TwitterBot.js:285:39)\n    at TwitterBot.shutdown (/Users/mikaelo/codedao-extension/twitter_bot/src/TwitterBot.js:399:18)\n    at CodeDAOTwitterBot.shutdown (/Users/mikaelo/codedao-extension/twitter_bot/src/index.js:407:24)\n    at handleCLI (/Users/mikaelo/codedao-extension/twitter_bot/src/index.js:486:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-08-09 15:52:08:528"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ Failed to get overview metrics: this.db.collection is not a function\u001b[39m","stack":"TypeError: this.db.collection is not a function\n    at Analytics.getOverviewMetrics (/Users/mikaelo/codedao-extension/twitter_bot/src/Analytics.js:66:17)\n    at Analytics.getDashboardData (/Users/mikaelo/codedao-extension/twitter_bot/src/Analytics.js:25:14)\n    at /Users/mikaelo/codedao-extension/twitter_bot/src/index.js:92:48\n    at Layer.handle [as handle_request] (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/index.js:280:10)","timestamp":"2025-08-09 16:52:32:5232"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ Failed to get recent posts analytics: this.db.collection is not a function\u001b[39m","stack":"TypeError: this.db.collection is not a function\n    at Analytics.getRecentPostsAnalytics (/Users/mikaelo/codedao-extension/twitter_bot/src/Analytics.js:93:41)\n    at Analytics.getDashboardData (/Users/mikaelo/codedao-extension/twitter_bot/src/Analytics.js:26:14)\n    at /Users/mikaelo/codedao-extension/twitter_bot/src/index.js:92:48\n    at Layer.handle [as handle_request] (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/index.js:280:10)","timestamp":"2025-08-09 16:52:32:5232"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ Failed to get engagement target metrics: this.db.collection is not a function\u001b[39m","stack":"TypeError: this.db.collection is not a function\n    at Analytics.getEngagementTargetMetrics (/Users/mikaelo/codedao-extension/twitter_bot/src/Analytics.js:317:42)\n    at Analytics.getEngagementAnalytics (/Users/mikaelo/codedao-extension/twitter_bot/src/Analytics.js:133:14)\n    at Analytics.getDashboardData (/Users/mikaelo/codedao-extension/twitter_bot/src/Analytics.js:27:14)\n    at /Users/mikaelo/codedao-extension/twitter_bot/src/index.js:92:48\n    at Layer.handle [as handle_request] (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-08-09 16:52:32:5232"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ Failed to get engagement trends: this.db.collection is not a function\u001b[39m","stack":"TypeError: this.db.collection is not a function\n    at Analytics.getEngagementTrends (/Users/mikaelo/codedao-extension/twitter_bot/src/Analytics.js:354:45)\n    at Analytics.getEngagementAnalytics (/Users/mikaelo/codedao-extension/twitter_bot/src/Analytics.js:134:14)\n    at Analytics.getDashboardData (/Users/mikaelo/codedao-extension/twitter_bot/src/Analytics.js:27:14)\n    at /Users/mikaelo/codedao-extension/twitter_bot/src/index.js:92:48\n    at Layer.handle [as handle_request] (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-08-09 16:52:32:5232"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ Failed to get top performing posts: this.db.collection is not a function\u001b[39m","stack":"TypeError: this.db.collection is not a function\n    at Analytics.getTopPerformingPosts (/Users/mikaelo/codedao-extension/twitter_bot/src/Analytics.js:375:38)\n    at Analytics.getContentPerformanceAnalytics (/Users/mikaelo/codedao-extension/twitter_bot/src/Analytics.js:213:14)\n    at Analytics.getDashboardData (/Users/mikaelo/codedao-extension/twitter_bot/src/Analytics.js:29:14)\n    at /Users/mikaelo/codedao-extension/twitter_bot/src/index.js:92:48\n    at Layer.handle [as handle_request] (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-08-09 16:52:32:5232"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ Failed to get content type performance: this.db.collection is not a function\u001b[39m","stack":"TypeError: this.db.collection is not a function\n    at Analytics.getContentTypePerformance (/Users/mikaelo/codedao-extension/twitter_bot/src/Analytics.js:415:37)\n    at Analytics.getContentPerformanceAnalytics (/Users/mikaelo/codedao-extension/twitter_bot/src/Analytics.js:214:14)\n    at Analytics.getDashboardData (/Users/mikaelo/codedao-extension/twitter_bot/src/Analytics.js:29:14)\n    at /Users/mikaelo/codedao-extension/twitter_bot/src/index.js:92:48\n    at Layer.handle [as handle_request] (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-08-09 16:52:32:5232"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ Failed to get optimal posting times: this.db.collection is not a function\u001b[39m","stack":"TypeError: this.db.collection is not a function\n    at Analytics.getOptimalPostingTimes (/Users/mikaelo/codedao-extension/twitter_bot/src/Analytics.js:453:37)\n    at Analytics.getContentPerformanceAnalytics (/Users/mikaelo/codedao-extension/twitter_bot/src/Analytics.js:215:14)\n    at Analytics.getDashboardData (/Users/mikaelo/codedao-extension/twitter_bot/src/Analytics.js:29:14)\n    at /Users/mikaelo/codedao-extension/twitter_bot/src/index.js:92:48\n    at Layer.handle [as handle_request] (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-08-09 16:52:32:5232"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ Failed to get growth metrics: Cannot read properties of null (reading 'collection')\u001b[39m","stack":"TypeError: Cannot read properties of null (reading 'collection')\n    at Database.getDailyMetrics (/Users/mikaelo/codedao-extension/twitter_bot/src/database.js:244:35)\n    at Analytics.getGrowthMetrics (/Users/mikaelo/codedao-extension/twitter_bot/src/Analytics.js:162:42)\n    at Analytics.getDashboardData (/Users/mikaelo/codedao-extension/twitter_bot/src/Analytics.js:28:14)\n    at /Users/mikaelo/codedao-extension/twitter_bot/src/index.js:92:48\n    at Layer.handle [as handle_request] (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-08-09 16:52:32:5232"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ Failed to get hashtag analytics: Cannot read properties of null (reading 'collection')\u001b[39m","stack":"TypeError: Cannot read properties of null (reading 'collection')\n    at Database.getHashtagPerformance (/Users/mikaelo/codedao-extension/twitter_bot/src/database.js:332:40)\n    at Analytics.getHashtagAnalytics (/Users/mikaelo/codedao-extension/twitter_bot/src/Analytics.js:238:48)\n    at Analytics.getDashboardData (/Users/mikaelo/codedao-extension/twitter_bot/src/Analytics.js:30:14)\n    at /Users/mikaelo/codedao-extension/twitter_bot/src/index.js:92:48\n    at Layer.handle [as handle_request] (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-08-09 16:52:32:5232"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ Failed to get content performance analytics: Cannot read properties of null (reading 'collection')\u001b[39m","stack":"TypeError: Cannot read properties of null (reading 'collection')\n    at Database.getHashtagPerformance (/Users/mikaelo/codedao-extension/twitter_bot/src/database.js:332:40)\n    at Analytics.getContentPerformanceAnalytics (/Users/mikaelo/codedao-extension/twitter_bot/src/Analytics.js:216:17)\n    at Analytics.getDashboardData (/Users/mikaelo/codedao-extension/twitter_bot/src/Analytics.js:29:14)\n    at /Users/mikaelo/codedao-extension/twitter_bot/src/index.js:92:48\n    at Layer.handle [as handle_request] (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-08-09 16:52:32:5232"}
{"address":"::","code":"EADDRINUSE","errno":-48,"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m💥 Uncaught exception: listen EADDRINUSE: address already in use :::3000\u001b[39m","port":3000,"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1940:16)\n    at listenInCluster (node:net:1997:12)\n    at Server.listen (node:net:2102:7)\n    at Function.listen (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/application.js:635:24)\n    at CodeDAOTwitterBot.setupServer (/Users/mikaelo/codedao-extension/twitter_bot/src/index.js:154:28)\n    at CodeDAOTwitterBot.initialize (/Users/mikaelo/codedao-extension/twitter_bot/src/index.js:53:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async handleCLI (/Users/mikaelo/codedao-extension/twitter_bot/src/index.js:482:5)","syscall":"listen","timestamp":"2025-08-09 16:54:53:5453"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ Failed to get overview metrics: this.db.collection is not a function\u001b[39m","stack":"TypeError: this.db.collection is not a function\n    at Analytics.getOverviewMetrics (/Users/mikaelo/codedao-extension/twitter_bot/src/Analytics.js:66:17)\n    at Analytics.getDashboardData (/Users/mikaelo/codedao-extension/twitter_bot/src/Analytics.js:25:14)\n    at /Users/mikaelo/codedao-extension/twitter_bot/src/index.js:92:48\n    at Layer.handle [as handle_request] (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/index.js:280:10)","timestamp":"2025-08-09 16:58:36:5836"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ Failed to get recent posts analytics: this.db.collection is not a function\u001b[39m","stack":"TypeError: this.db.collection is not a function\n    at Analytics.getRecentPostsAnalytics (/Users/mikaelo/codedao-extension/twitter_bot/src/Analytics.js:93:41)\n    at Analytics.getDashboardData (/Users/mikaelo/codedao-extension/twitter_bot/src/Analytics.js:26:14)\n    at /Users/mikaelo/codedao-extension/twitter_bot/src/index.js:92:48\n    at Layer.handle [as handle_request] (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/index.js:280:10)","timestamp":"2025-08-09 16:58:36:5836"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ Failed to get engagement target metrics: this.db.collection is not a function\u001b[39m","stack":"TypeError: this.db.collection is not a function\n    at Analytics.getEngagementTargetMetrics (/Users/mikaelo/codedao-extension/twitter_bot/src/Analytics.js:317:42)\n    at Analytics.getEngagementAnalytics (/Users/mikaelo/codedao-extension/twitter_bot/src/Analytics.js:133:14)\n    at Analytics.getDashboardData (/Users/mikaelo/codedao-extension/twitter_bot/src/Analytics.js:27:14)\n    at /Users/mikaelo/codedao-extension/twitter_bot/src/index.js:92:48\n    at Layer.handle [as handle_request] (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-08-09 16:58:36:5836"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ Failed to get engagement trends: this.db.collection is not a function\u001b[39m","stack":"TypeError: this.db.collection is not a function\n    at Analytics.getEngagementTrends (/Users/mikaelo/codedao-extension/twitter_bot/src/Analytics.js:354:45)\n    at Analytics.getEngagementAnalytics (/Users/mikaelo/codedao-extension/twitter_bot/src/Analytics.js:134:14)\n    at Analytics.getDashboardData (/Users/mikaelo/codedao-extension/twitter_bot/src/Analytics.js:27:14)\n    at /Users/mikaelo/codedao-extension/twitter_bot/src/index.js:92:48\n    at Layer.handle [as handle_request] (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-08-09 16:58:36:5836"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ Failed to get top performing posts: this.db.collection is not a function\u001b[39m","stack":"TypeError: this.db.collection is not a function\n    at Analytics.getTopPerformingPosts (/Users/mikaelo/codedao-extension/twitter_bot/src/Analytics.js:375:38)\n    at Analytics.getContentPerformanceAnalytics (/Users/mikaelo/codedao-extension/twitter_bot/src/Analytics.js:213:14)\n    at Analytics.getDashboardData (/Users/mikaelo/codedao-extension/twitter_bot/src/Analytics.js:29:14)\n    at /Users/mikaelo/codedao-extension/twitter_bot/src/index.js:92:48\n    at Layer.handle [as handle_request] (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-08-09 16:58:36:5836"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ Failed to get content type performance: this.db.collection is not a function\u001b[39m","stack":"TypeError: this.db.collection is not a function\n    at Analytics.getContentTypePerformance (/Users/mikaelo/codedao-extension/twitter_bot/src/Analytics.js:415:37)\n    at Analytics.getContentPerformanceAnalytics (/Users/mikaelo/codedao-extension/twitter_bot/src/Analytics.js:214:14)\n    at Analytics.getDashboardData (/Users/mikaelo/codedao-extension/twitter_bot/src/Analytics.js:29:14)\n    at /Users/mikaelo/codedao-extension/twitter_bot/src/index.js:92:48\n    at Layer.handle [as handle_request] (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-08-09 16:58:36:5836"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ Failed to get optimal posting times: this.db.collection is not a function\u001b[39m","stack":"TypeError: this.db.collection is not a function\n    at Analytics.getOptimalPostingTimes (/Users/mikaelo/codedao-extension/twitter_bot/src/Analytics.js:453:37)\n    at Analytics.getContentPerformanceAnalytics (/Users/mikaelo/codedao-extension/twitter_bot/src/Analytics.js:215:14)\n    at Analytics.getDashboardData (/Users/mikaelo/codedao-extension/twitter_bot/src/Analytics.js:29:14)\n    at /Users/mikaelo/codedao-extension/twitter_bot/src/index.js:92:48\n    at Layer.handle [as handle_request] (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-08-09 16:58:36:5836"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ Failed to get growth metrics: Cannot read properties of null (reading 'collection')\u001b[39m","stack":"TypeError: Cannot read properties of null (reading 'collection')\n    at Database.getDailyMetrics (/Users/mikaelo/codedao-extension/twitter_bot/src/database.js:244:35)\n    at Analytics.getGrowthMetrics (/Users/mikaelo/codedao-extension/twitter_bot/src/Analytics.js:162:42)\n    at Analytics.getDashboardData (/Users/mikaelo/codedao-extension/twitter_bot/src/Analytics.js:28:14)\n    at /Users/mikaelo/codedao-extension/twitter_bot/src/index.js:92:48\n    at Layer.handle [as handle_request] (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-08-09 16:58:36:5836"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ Failed to get hashtag analytics: Cannot read properties of null (reading 'collection')\u001b[39m","stack":"TypeError: Cannot read properties of null (reading 'collection')\n    at Database.getHashtagPerformance (/Users/mikaelo/codedao-extension/twitter_bot/src/database.js:332:40)\n    at Analytics.getHashtagAnalytics (/Users/mikaelo/codedao-extension/twitter_bot/src/Analytics.js:238:48)\n    at Analytics.getDashboardData (/Users/mikaelo/codedao-extension/twitter_bot/src/Analytics.js:30:14)\n    at /Users/mikaelo/codedao-extension/twitter_bot/src/index.js:92:48\n    at Layer.handle [as handle_request] (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-08-09 16:58:36:5836"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ Failed to get content performance analytics: Cannot read properties of null (reading 'collection')\u001b[39m","stack":"TypeError: Cannot read properties of null (reading 'collection')\n    at Database.getHashtagPerformance (/Users/mikaelo/codedao-extension/twitter_bot/src/database.js:332:40)\n    at Analytics.getContentPerformanceAnalytics (/Users/mikaelo/codedao-extension/twitter_bot/src/Analytics.js:216:17)\n    at Analytics.getDashboardData (/Users/mikaelo/codedao-extension/twitter_bot/src/Analytics.js:29:14)\n    at /Users/mikaelo/codedao-extension/twitter_bot/src/index.js:92:48\n    at Layer.handle [as handle_request] (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/mikaelo/codedao-extension/twitter_bot/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-08-09 16:58:36:5836"}
